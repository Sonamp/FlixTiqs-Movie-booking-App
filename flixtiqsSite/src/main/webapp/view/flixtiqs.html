<!DOCTYPE html>
<html lang="en" >
<head>
<meta charset=""utf-8"">
<title>Flixtiqs Movie Booking App</title>
<script src="../js/angular.min.js"></script>
<script src="../js/Mainpage.js"></script>
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
</head>
<body ng-app="flixtiqsApp">
	<div class="container">
		<h1>FlixTiqs Movie Booking App</h1>
		<div class = "modal-body row" >			
			<div ng-controller="movieSearchController">
				<p>{{messageText}}</p>
				
				<div class="form-inline">	
					<div class="form-group">
						<label for="city">City</label>				
						<input type="text" id="city" class="form-control" ng-model="searchCity" placeholder="Enter City" /> </br>
					</div>
					<div class="form-group">
						<label for="state">State</label>				
						<input type="text" id="state" class="form-control" ng-model="searchState"  placeholder="Enter state"/> </br>
					</div>
					<div class="form-group">
						<label for="zip">Zip Code</label>
						<input type="text" id="zip" class="form-control" ng-model="searchZip"  placeholder="Enter zipcode"/> </br>
					</div>
					<button class="btn btn-search" ng-click="searchTheater()">Search Theater</button>		
				</div>
				&nbsp; &nbsp;
				<div class="form-inline">
					<div class="form-group">
						<label for="movieName">Movie Name</label>				
						<input type="text" id="movieName" class="form-control" ng-model="searchMovieName"  placeholder="Enter movie name"/> </br>
					</div>
					<div class="form-group">
						<label for="releasedDate">Release Date</label>
						<input type="text" id="releasedDate" class="form-control" ng-model="searchDate"  placeholder="Enter a date"/> </br>
					</div>
					<button class="btn btn-search" ng-click="searchMovie()">Search Movie</button>	
					<a ng-click="searchMovie()" style="padding-left:30px">See all movies</a>	
				</div>
				</br>
				<div>
					<a ng-click="addMovieForm()" style="padding-left:30px">Add Movie</a>&nbsp; &nbsp;&nbsp; &nbsp;	
					<a ng-click="addTheaterForm()" style="padding-left:30px">Add Theater</a>&nbsp; &nbsp;&nbsp; &nbsp;	
					<a ng-click="addMovietoTheaterForm()" style="padding-left:30px">Add Movie to Theater</a>
				</div>
				</br>
				</br>	
				<div class="col-md-4 animate-hide" ng-show="showAddMovieForm">
					<form>
						<div class="form-group">
							<label for="addMovieName">Movie Name</label>				
							<input type="text" id="addMovieName" class="form-control" ng-model="addMovieName"  placeholder="Movie name"/> </br>
						</div>
						<div class="form-group">
							<label for="addDate">Released Date</label>				
							<input type="text" id="addDate" class="form-control" ng-model="addDate"  placeholder="Movie released date in yyyy-MM-dd format"/> </br>
						</div>
						<div class="form-group">
							<label for="addLength">Run Time</label>				
							<input type="text" id="addLength" class="form-control" ng-model="addLength"  placeholder="Movie run time"/> </br>
						</div>
						<div class="form-group">
							<label for="addRating">Rating</label>				
							<input type="text" id="addRating" class="form-control" ng-model="addRating"  placeholder="Movie rating"/> </br>
						</div>
						<button class="btn btn-success" ng-click="addMovie()">Add Movie</button>
					</form>
				</div>	
				<div class="col-md-4 animate-hide" ng-show="showAddTheaterForm">
					<form>
						<div class="form-group">
							<label for="addTheaterName">Theater Name</label>				
							<input type="text" id="addTheaterName" class="form-control" ng-model="addTheaterName"  placeholder="Theater name"/> </br>
						</div>
						<div class="form-group">
							<label for="addCity">City</label>				
							<input type="text" id="addCity" class="form-control" ng-model="addCity"  placeholder="Enter city"/> </br>
						</div>
						<div class="form-group">
							<label for="addState">State</label>				
							<input type="text" id="addState" class="form-control" ng-model="addState"  placeholder="Enter State"/> </br>
						</div>
						<div class="form-group">
							<label for="addZip">Rating</label>				
							<input type="text" id="addZip" class="form-control" ng-model="addZip"  placeholder="Enter zipCode"/> </br>
						</div>
						<button class="btn btn-success" ng-click="addTheater()">Add Theater</button>
					</form>
				</div>	
				<div class="col-md-4 animate-hide" ng-show="showAddMovietoTheaterForm">
					<form>
						<div class="form-group">
							<label for="addTheater">Theater</label>				
							<input type="text" id="addTheaterName" class="form-control" ng-model="addDDTheater"  placeholder="Select theater"/> </br>
						</div>
						<div class="form-group">
							<label for="addMovie">Movie</label>				
							<input type="text" id="addMovie" class="form-control" ng-model="addDDMovie"  placeholder="Select movie"/> </br>
						</div>
						<div class="form-group">
							<label for="addShowTime">Show time</label>				
							<input type="text" id="addShowTime" class="form-control" ng-model="addShowTime"  placeholder="Enter show time in 24 hour format"/> </br>
						</div>
						<div class="form-group">
							<label for="addPrice">Ticket price</label>				
							<input type="text" id="addPrice" class="form-control" ng-model="addPrice"  placeholder="Enter ticket price"/> </br>
						</div>
						<button class="btn btn-success" ng-click="addTheater()">Add Theater</button>
					</form>
				</div>								
				<div class="col-md-6">
					<div >
						<table class="table table-striped table-hover">
							<tr ng-repeat="movie in movies">
								<td>{{movie.movie.movieId}}</td>
								<td><a ng-click="searchTheaterforMovie(movie.movie.movieId)" >{{movie.movie.name}}</a></td>
								<td><b>Realeased Date :</b> {{movie.movie.releasedDate}}, </br> <b>Movie run time :</b> {{movie.movie.length}} Minuts, <b>User rating :</b> *{{movie.movie.rating}}</td>
							</tr>
						</table>
					</div>
					<div>
						<table class="table table-striped table-hover">
							<tr ng-repeat="theater in theaters">
								<td>{{theater.theater.theaterId}}</td>
								<td><a ng-click="searchMoviesforTheater(theater.theater.theaterId)"> {{theater.theater.name}} </a></td>
								<td>{{theater.theater.city}}, {{theater.theater.state}}  {{theater.theater.zipcode}}</td>
							</tr>
						</table>
					</div>
				</div>
				<div class="col-md-6">
					<div>
						<table class="table table-striped table-hover">
							<tr ng-repeat="theater in movieTheaters">
								<td>{{theater.theater.theaterId}}</td>
								<td>{{theater.theater.name}} </br> <b>Address : </b>{{theater.theater.city}}, {{theater.theater.state}}  {{theater.theater.zipcode}}</td>
								<td>Show Timing: 					
										<table>
											<tr ng-repeat="show in theater.theater.movieShow">
												<td>{{show.showTime}}</td>
											</tr>	
											<tr>
												<td>{{theater.theater.movieShow.showTime}}</td>
											</tr>									
										</table>									
								</td>
							</tr>
						</table>
					</div>
					<div>					
						<table class="table table-striped table-hover">
							<tr ng-repeat="movie in theaterMovies">
								<td>{{movie.movie.movieId}}</td>
								<td>{{movie.movie.name}}</br><b>User rating :</b> *{{movie.movie.rating}}</td>
								<td>Show Timing:				
										<table>
											<tr ng-repeat="show in movie.show">
												<td>{{show.showTime}}</td>
												<td> &nbsp;&nbsp; <b> Price: </b> {{show.price}}$</td>
											</tr>								
										</table>									
								</td>
							</tr>
						</table>
					</div>
				</div>
			</div>
		</div>
		
	</div>
</body>
</html>